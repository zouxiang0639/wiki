##约瑟夫环

~~~
假设下标从0开始，0，1，2 .. m-1共m个人，从1开始报数，报到k则此人从环出退出，问最后剩下的一个人的编号是多少？
现在假设m=10
0 1 2 3  4 5 6 7 8 9    k=3
第一个人出列后的序列为：
0 1 3 4 5 6 7 8 9
即:
3 4 5 6 7 8 9 0 1（*）
我们把该式转化为:
0 1 2 3 4 5 6 7 8 (**)
则你会发现: （(**)+3）%10则转化为(*)式了
也就是说，我们求出9个人中第9次出环的编号，最后进行上面的转换就能得到10个人第10次出环的编号了
设f(m,k,i)为m个人的环，报数为k，第i个人出环的编号，则f(10,3,10)是我们要的结果
当i=1时，  f(m,k,i) = (m+k-1)%m
当i!=1时，  f(m,k,i)= ( f(m-1,k,i-1)+k )%m
~~~

##数学算法

```php
function fun($m, $k, $i){
    if($i==1){
        return ($m+$k-1)%$m;
    }else{
        return (fun($m-1,$k,$i-1)+$k)%$m;
    }

}

for($i=1; $i<=10; $i++)
    printf("第%2d次出环：%2d\n",$i,fun(10,3,$i));
```

- 输出结果

~~~
第 1次出环： 2
第 2次出环： 5
第 3次出环： 8
第 4次出环： 1
第 5次出环： 6
第 6次出环： 0
第 7次出环： 7
第 8次出环： 4
第 9次出环： 9
第10次出环： 3
~~~

##线性计算

~~~
$array = range(1,10);

function abcs($array, $num) {
    foreach($array as $key => $value) {

        if($num%3 == 0){
            print_r($value.'-'.$num); echo '<br>';
            unset($array[$key]);
        }
        $num++;
    }
    if((count($array) + 1) > 2){
        $array = abcs($array, $num);
    }
    return $array;
}

print_r(abcs($array, 10));
~~~

- 输出结果

~~~
3-3
6-6
9-9
2-12
7-15
1-18
8-21
5-24
10-27
Array ([3] => 4)
~~~